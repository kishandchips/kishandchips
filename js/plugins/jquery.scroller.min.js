(function(e){e.fn.scroller=function(t){function c(n,u){var a=e(".scroll-item",r).filter("[data-id="+n+"]"),l=a.index(),c=i.index(),h=a.outerWidth(!0),p=f||n!==i.data("id");if(p&&!e(".scroll-item",r).is(":animated")){p=!1;var d=0;if(t.scrollAll){c<l?d=h*(l-c):d=-h*(c-l);if(!f)if(c<l){e.fn.transition?e(".scroll-items-container",r).stop().transition({left:-d},s,o,function(){var t=l-1,n=e(".scroll-item:lt("+t+")",r);e(".scroll-item:last",r).after(n);e(".scroll-items-container",r).css({left:"0px"});n.hide().fadeIn();i=a;p=!1}):e(".scroll-items-container",r).stop().animate({left:-d},s,o,function(){var t=l-1,n=e(".scroll-item:lt("+t+")",r);e(".scroll-item:last",r).after(n);e(".scroll-items-container",r).css({left:"0px"});n.hide().fadeIn();i=a;p=!1});i.removeClass("current");a.addClass("current")}else{e(".scroll-item:first",r).before(e(".scroll-item:last",r));e(".scroll-items-container",r).css({left:-h+"px"});e.fn.transition?e(".scroll-items-container",r).stop().transition({left:0},s,o,function(){i=a;p=!1}):e(".scroll-items-container",r).stop().animate({left:0},s,o,function(){i=a;p=!1});i.removeClass("current");a.addClass("current")}else{e(".scroll-item:first",r).before(e(".scroll-item:last",r));e(".scroll-items-container",r).css({left:0});i=a;p=!1}}else{c<l?d=h:d=-h;if(u)switch(u){case"next":d=h;break;case"prev":d=-h}if(!f){i.css({position:"absolute"}).animate({left:-d},s,o,function(){e(this).removeClass("current").css({position:"relative"})});a.css({left:d,position:"absolute"}).addClass("current").animate({left:0},s,o,function(){e(this).css({position:"relative"});i=a;p=!1})}else{a.addClass("current");i=a;p=!1}}var v=e(".scroller-pagination");e("li",v).removeClass("current");e("li a[data-id="+a.data("id")+"]",v).parent().addClass("current");t.resize&&r.animate({height:a.outerHeight()+v.height()},s,o);r.trigger("onChange",[a])}}function h(){var t=i.next();t.length===0&&(t=e(".scroll-item:eq(0)",r));c(t.data("id"),"next")}function p(){var t=i.prev();if(t.length===0){var n=l-1;t=e(".scroll-item:eq("+n+")",r)}c(t.data("id"),"prev")}function d(){if(l>1){e(".scroll-item",r).hover(function(){if(e(this).data("id")==i.prev().data("id")){e(".prev-btn",r).addClass("hover");i.prev().addClass("hover")}else if(e(this).data("id")==i.next().data("id")){e(".next-btn",r).addClass("hover");i.next().addClass("hover")}},function(){e(".prev-btn",r).removeClass("hover");e(".next-btn",r).removeClass("hover");e(".scroll-item",r).removeClass("hover")});e(".scroller-pagination a",r).on("click",function(t){t.preventDefault();c(e(this).data("id"));return!1});e(".prev-btn",r).on("click",p);e(".next-btn",r).on("click",h);if(t.autoScroll){var n;r.hover(function(){u=!1},function(){u=!0});n=setInterval(function(){u&&h()},4e3)}c(i.data("id"))}else e(".scroller-navigation",r).hide();r.bind("refresh",v);e(window).load(function(){t.resize&&r.css({height:i.outerHeight()+e(".scroller-pagination").height()},500,"easeInOutQuad")});f=!1}function v(){c(e(".scroll-item:eq(0)",r).data("id"));t.resize&&r.css({height:i.outerHeight()})}var n={autoScroll:!1,scrollAll:!1,easing:"easeInOutExpo",resize:!1};t=e.extend({},n,t);var r=e(this),i=e(".scroll-item:eq(0)",r);e(".scroll-item",r).hasClass("current")&&(i=e(".scroll-item.current",r));var s=600,o=t.easing,u=!0,a=!0,f=!0,l=e(".scroll-item",r).size();d();return r}})(jQuery);